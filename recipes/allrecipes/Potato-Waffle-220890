Melt butter in a skillet over medium heat. Cook and stir onion and garlic in the melted butter until onion is tender, 5 to 7 minutes. Preheat a waffle iron according to manufacturer's instructions. Combine onion mixture, mashed potatoes, flour, eggs, salt, and black pepper in a large bowl until well blended. Scoop 1/4 to 1/2 cup batter (depending on size of waffle iron) into the center of waffle iron and close lid. Cook until golden brown, 3 to 5 minutes.