Preheat oven to 350 degrees F (175 degrees C). Grease and flour a 9x13-inch baking pan. Mix white sugar, flour, and salt together in a large bowl. Combine 1/2 cup butter, vegetable oil, 1/2 cup cocoa powder, and water in a saucepan; bring to a boil and stir until smooth. Remove from heat and stir into flour mixture. Beat buttermilk, eggs, 2 teaspoons vanilla extract, and baking soda together in a bowl; mix into chocolate mixture. Pour batter into prepared baking pan. Bake in the preheated oven until a toothpick inserted into the cake comes out clean, about 25 minutes. Cool slightly. Combine 1/2 cup butter, milk, and 3 tablespoons cocoa powder in a saucepan; bring to a boil and remove from heat. Whisk in confectioners' sugar and 1 teaspoon vanilla extract. Fold in pecans. Sprinkle marshmallows over slightly cooled cake; pour warm icing over marshmallows. Cool cake before serving.