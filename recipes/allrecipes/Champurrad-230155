Bring water, cinnamon stick, clove, and star anise to a boil in a saucepan; remove from heat and allow spices to steep until water is fragrant, about 10 minutes. Strain. Heat milk, chocolate, and pinole in another saucepan over medium heat, whisking until chocolate is dissolved and liquid is thickened, about 10 minutes. Remove from heat and add piloncillo; let rest until sugar is dissolved, about 5 minutes more. Pour cinnamon water into chocolate mixture and stir to combine.