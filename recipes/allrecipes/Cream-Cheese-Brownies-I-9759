Preheat oven to 350 degrees F (175 degrees C). Grease a 9 inch square baking pan. In a double boiler, melt chocolate over low heat with 3 tablespoons of butter. Set aside to cool. In a medium bowl, mix together 2 of the eggs and sugar until thick. Stir in baking powder, salt and 1/2 cup of flour. Blend in cooled chocolate, nuts and vanilla extract. Set aside. In a separate bowl, cream 2 tablespoons of butter with the cream cheese. Gradually stir in 1/4 cup of sugar. Blend in one egg,1 tablespoon of flour, and 1/2 teaspoon vanilla extract. Spread half of the chocolate batter in a pan. Layer on all of the cream cheese batter. Spoon on the remaining chocolate batter in spots. Zigzag through batter with a knife to create a marbling effect. Bake 35 to 40 minutes in the preheated oven. Let cool on wire rack before cutting into squares.