Preheat oven to 350 degrees F (175 degrees C). Spread walnuts in a single layer on a cookie sheet. Toast for 10 minutes, or until fragrant and lightly browned. In a large saute pan, cook shallots in butter over medium heat until translucent. Then add chopped mushrooms, garlic, parsley, thyme, salt, and pepper. Cook, stirring often, until most of the liquid has evaporated. Process toasted walnuts and olive oil in a blender or food processor until mixture forms a thick paste. Spoon in the cooked mushroom mixture, and process to desired texture. Pack mixture into well-oiled ramekins or bowl. Cover with plastic wrap, and refrigerate for a few hours or overnight.