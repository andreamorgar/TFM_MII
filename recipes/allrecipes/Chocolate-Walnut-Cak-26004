Preheat oven to 325 degrees F (165 degrees C). Grease and flour a 9x13 inch pan. Sift together the flour, baking powder, salt, cinnamon and allspice. Set aside. In the top of a double boiler, heat chocolate, stirring occasionally, until chocolate is melted and smooth. Remove from heat and allow to cool to lukewarm. In a large bowl, cream together the shortening and sugar until light and fluffy. Beat in the egg yolks one at a time, then stir in the vanilla. Beat in the flour mixture alternately with the milk. Stir in walnuts. In a large glass or metal mixing bowl, beat egg whites until stiff peaks form. Fold 1/3 of the whites into the batter, then quickly fold in remaining whites until no streaks remain. Pour batter into prepared pan. Bake in the preheated oven for 45 to 50 minutes, or until a toothpick inserted into the center of the cake comes out clean. Allow to cool.