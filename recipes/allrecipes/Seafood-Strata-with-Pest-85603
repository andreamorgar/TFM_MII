Preheat the oven to 350 degrees F (175 degrees C). Cut each slice of bread into 4 triangles. Place them on a baking sheet, and bake for about 10 minutes, or until toasted. Allow to cool, then spread pesto onto one side of each piece of bread. Set aside. Melt the butter in a large skillet over medium heat. Add the mushrooms; cook and stir until all of the liquid has evaporated. Add the onions; cook and stir for a couple of minutes, then pour in the sherry. Simmer for 1 minute. Place half of the bread triangles into a greased 9x13 inch baking dish with the pesto side facing up. Sprinkle half of the cheese over the bread. Spread the shrimp and crabmeat over the cheese. Top with the mushroom and onion mixture, then sprinkle all but 1/2 cup of the remaining cheese over the mushrooms. Cover with the other half of the bread so that the pesto side is facing down. In a large bowl, whisk together the eggs, half-and-half, salt, and cayenne pepper. Pour over the entire casserole. Cover and refrigerate for at least 2 and up to 24 hours. Remove from the refrigerator for one hour before baking. Preheat the oven to 350 degrees F (175 degrees C). Combine the 1 cup of reserved cheese with the panko crumbs in a plastic bag. Shake to blend, and sprinkle over the top of the casserole. Bake uncovered for 55 to 60 minutes in the preheated oven, or until a knife inserted in the center comes out clean. Let stand for 15 minutes before serving. Garnish with fresh tomato and basil or chives.