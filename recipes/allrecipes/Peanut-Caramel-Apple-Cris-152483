Preheat oven to 350 degrees F (175 degrees C). Lightly grease a 9x13 inch baking dish. Place 1 cup butter, 2 cups brown sugar, condensed milk, corn syrup, and vanilla extract in a pan over medium-high heat. Stirring constantly, bring mixture to a boil. Lower heat to medium, and continue to stir while mixture simmers for about 12 minutes. Remove from heat, and stir in 1/2 cup peanuts. Place apples in a mixing bowl. Pour in the caramel sauce, and toss gently to coat apples. Pour into the prepared pan. To make the crumb topping, use a pastry blender or two forks to mix 1/2 cup butter with 3/4 cup brown sugar, white sugar, flour, cinnamon, and nutmeg in a mixing bowl until crumbly. Stir in 1/4 cup peanuts. Sprinkle over the top of the apples. Place baking dish on a cookie sheet to prevent spills while baking. Bake in preheated oven until top is crisped and apples can be pierced with a fork, about 45 minutes.