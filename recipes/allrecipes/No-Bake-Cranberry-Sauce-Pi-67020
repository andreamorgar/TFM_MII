Beat the cream cheese, margarine, and vanilla extract together in a mixing bowl until smooth and fluffy. Sift in the confectioner's sugar and mix until thoroughly blended. Spread evenly over the bottom of the graham cracker pie crust. Whisk the gelatin and boiling water together in a small bowl until dissolved. Stir in the cranberry sauce and walnuts. Pour over the cream cheese layer in the pie crust. Refrigerate until set, 3 to 4 hours. Serve chilled.