Preheat oven to 375 degrees F (190 degrees C). Line bottom of unbaked pie shell with diced ham and grated cheese. In a large saucepan, melt butter over medium-low heat. Add onions and cook slowly, stirring occasionally until onions are soft. Spread over ham and cheese in pie shell. Beat eggs and add salt and nutmeg to taste. Gradually stir in hot milk and heat this mixture over a low flame until it begins to thicken. Pour into shell. Bake in preheated oven for 30 minutes or until custard is set and golden on top. Let cool before slicing.