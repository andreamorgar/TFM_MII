In a large bowl, cream margarine with sugar and vanilla until light and fluffy. Mix in flour and walnuts, beating on low speed of an electric mixer until well mixed. Cover, and refrigerate dough for 2 hours, or until firm enough to handle. Preheat oven to 375 degrees F (190 degrees C). Remove wrappers from chocolate kisses. Shape approximately 1 tablespoon of dough around each chocolate kiss; be sure to cover chocolate completely. Place cookies on an ungreased cookie sheet. Bake for 10 to 12 minutes in the preheated oven. While cookies are still warm, roll them in confectioners' sugar.