Preheat oven to 350 degrees F (175 degrees C). Grease a large loaf pan with butter. Stir zucchini, sugar, margarine, eggs, and vanilla extract together in a bowl. Combine flour, walnuts, cinnamon, baking powder, and salt in a bowl. Gradually stir flour mixture into zucchini mixture until combined. Pour batter into the prepared loaf pan. Bake in preheated oven until a toothpick inserted into the center comes out clean, 60 to 80 minutes. Let cool in the pan, about 30 minutes. Dust with confectioners' sugar.