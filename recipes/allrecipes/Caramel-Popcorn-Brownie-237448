Preheat oven to 325 degrees F (165 degrees C). Grease a 9x13-inch baking dish. Stir brownie mix, water, oil, and egg together in a bowl. Pour brownie batter in a thin layer in the bottom of the prepared baking dish. Spread popcorn over brownie batter and lightly press into batter. Sprinkle peanuts, chocolate chips, and peanut butter chips over the popcorn. Melt butter in a small saucepan over medium heat. Whisk brown sugar into butter; bring to a boil, whisking constantly, and cook until mixture has a thin caramel texture, about 3 minutes. Drizzle caramel over popcorn mixture in the baking dish. Bake in the preheated oven until brownies are set, 30 to 35 minutes. Cool before cutting into bars.