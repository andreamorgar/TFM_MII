Rinse chicken and pat dry. In a large bowl, mix coconut milk, ginger, pepper, and 1 teaspoon hot chili flakes. Add chicken and mix; cover airtight and chill at least 1 hour or up to 1 day. To make chili glaze, in a 2- to 3-quart pan, combine vinegar, sugar, soy sauce, and remaining 1 teaspoon chili flakes. Bring to a boil over high heat and cook until mixture is reduced to 1/2 cup, 8 to 10 minutes. Lift chicken from bowl, reserving marinade; pull thighs open and lay flat on a lightly oiled barbecue grill over a solid bed of hot coals or high heat on a gas grill (you can hold your hand at grill level only 2 to 3 seconds); close lid on gas grill. Cook, turning thighs as needed to brown on both sides, until meat is no longer pink in center of thickest part (cut to test), 10 to 12 minutes, basting frequently with remaining marinade (use it all). Transfer thighs to a warm platter and pour the chili glaze evenly over meat; garnish platter with green onions.