Grease an 8-inch springform pan. Melt 1/2 cup butter in a saucepan over low heat; whisk white sugar and chocolate drink mix into butter until smooth. Remove saucepan from heat; whisk in 1 teaspoon vanilla and beaten egg. Stir crushed crackers and coconut into chocolate mixture. Press mixture into the bottom of prepared pan. Refrigerate until set, about 30 minutes. Beat 3 tablespoons butter and confectioners' sugar with an electric mixer in a bowl until smooth; stir in milk and remaining 1/2 teaspoon vanilla. Spread icing mixture evenly over chocolate-cracker mixture; refrigerate until set, about 30 minutes. Melt chocolate chips with margarine in a saucepan over low heat; whisk until smooth. Pour chocolate mixture over icing layer; smooth with a spatula. Refrigerate bars until set, about 1 hour. Serve cold or at room temperature.