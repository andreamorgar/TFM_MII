Arrange sliced peaches in the bottom of a serving bowl; sprinkle with cinnamon. Combine milk, egg yolks, sugar, and flour together in a saucepan; cook and stir over medium-low heat until pudding thickens and clings to the back of a spoon, about 20 minutes. Remove from heat and stir in vanilla. Pour pudding over prepared peaches. Refrigerate until chilled, about 2 hours.