Preheat oven to 375 degrees F (190 degrees C). Spray the bottom and sides of a lasagna-size casserole dish with cooking spray. Place bacon in a large skillet and cook over medium-high heat, turning occasionally, until evenly browned, 5 to 10 minutes. Transfer bacon to a paper towel-lined plate to drain. Cook and stir onion in hot bacon grease until golden, 5 to 10 minutes. Transfer onion to bacon and drain bacon grease from the skillet. Melt butter in the same skillet over medium-high heat. Saute mushrooms in hot butter until golden and moisture evaporates, 5 to 10 minutes. Cover the bottom of the prepared casserole dish with a single layer of frozen pierogies and spread 1 can condensed cream of mushroom soup on top. Layer bacon, onions, and mushrooms over the top. Spread remaining pierogies over mushrooms, cover with remaining cream of mushroom soup, and top with Cheddar cheese. Cover the baking dish with aluminum foil. Bake in the preheated oven for 45 minutes. Remove aluminum foil and continue baking until casserole is golden and cheese is bubbling, 10 to 15 minutes.