In a small saucepan, combine water and margarine in a small saucepan. Heat until margarine is melted and very warm, but not boiling. In a large bowl, mix together 3 cups flour, white sugar, brown sugar, yeast and salt. Add water and margarine mixture; beat well. Add 4 eggs, one at a time, beating well after each addition. Stir in the remaining flour, 1/2 cup at a time, beating well after each addition. When the dough has pulled together, turn it out onto a lightly floured surface and knead until smooth and elastic, about 8 minutes. Lightly oil a large bowl, place the dough in the bowl and turn to coat with oil. Cover with a damp cloth and let rise in a warm place until doubled in volume, about 1 hour. Deflate the dough and turn it out onto a lightly floured surface. Divide the dough into six equal pieces and form into long 'ropes'. Braid the pieces together to form two large loaves. Place the loaves on two lightly greased cookie sheets, cover the loaves with a damp cloth and let rise until doubled in volume, about 40 minutes. Preheat oven to 350 degrees F (175 degrees C). Brush the risen loaves with the beaten egg and sprinkle with poppy seeds. Bake in preheated oven for 45 minutes, until loaf sounds hollow when tapped.