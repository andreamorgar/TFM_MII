In medium saucepan, combine sugar, flour, cornstarch and salt and whisk to combine. In a medium bowl, whisk milk and egg yolks until smooth. Gradually stir into sugar mixture. Cook over medium heat, stirring constantly, until mixture thickens and comes to a full boil. Boil and stir for one minute. Remove from heat and stir in chocolate, butter, and vanilla. Stir until melted. Pour into pie shell. Place plastic wrap over filling to prevent skin from forming and chill for several hours. Top with meringue or whipped cream and chocolate curls if so desired.