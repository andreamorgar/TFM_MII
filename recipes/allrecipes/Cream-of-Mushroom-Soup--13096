In a large heavy saucepan, cook mushrooms in the broth with onion and thyme until tender, about 10 to 15 minutes. In blender or food processor, puree the mixture , leaving some chunks of vegetable in it. Set aside. In the saucepan, melt the butter, whisk in the flour until smooth. Add the salt, pepper, half and half and vegetable puree. Stirring constantly, bring soup to a boil and cook until thickened. Adjust seasonings to taste, and add sherry.