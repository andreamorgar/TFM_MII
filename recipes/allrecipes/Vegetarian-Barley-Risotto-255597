Heat olive oil in a large pot over medium heat. Add onion and garlic; cook and stir until softened, about 5 minutes. Add barley; cook and stir it is light brown and smells nutty, about 10 minutes. Stir 2 cups vegetable stock and bay leaf into the pot; bring to a boil. Simmer until most of the stock is absorbed, about 10 minutes. Add 1 cup stock and broccoli. Reduce heat and simmer, covered, until most of the stock is absorbed, about 10 minutes. Stir remaining 1 cup stock, zucchini, yellow squash, carrots, water, salt, and pepper into the pot. Simmer until stock is mostly absorbed and broccoli is soft, about 5 minutes. Discard bay leaf.