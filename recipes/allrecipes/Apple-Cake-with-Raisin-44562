In a medium bowl, mix the apples and sugar. Let stand about 30 minutes. Preheat oven to 350 degrees F (175 degrees C). Grease and flour two 10x15 inch baking pans. Stir the water into the bowl with apples. Blend eggs and margarine in a small bowl, and mix with the apples. Mix in the flour, baking soda, cinnamon, and salt. Stir in the raisins and walnuts. Transfer to the prepared pans. Bake 1 hour in the preheated oven, or until a toothpick inserted in the center comes out clean. Cool slightly before turning out of pans. In a medium bowl, blend confectioners' sugar, hot water, and vanilla extract. Drizzle over the cakes while still warm.