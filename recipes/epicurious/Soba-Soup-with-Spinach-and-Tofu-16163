In a saucepan bring the water to a boil with the kombu, simmer the kombu for 2 minutes, and remove it with tongs, discarding it. Stir in the bonito flakes and simmer the mixture, stirring occasionally, for 3 minutes. Stir in the soy sauce, the mirin, and the sugar and simmer the broth for 5 minutes. Strain the broth through a fine sieve into a heatproof bowl and pour it back into the pan. In a kettle of salted boiling water cook the noodles for 3 to 5 minutes, or until they are al dente, being careful not to overcook them, drain them in a colander, and rinse them under cold water. Add the carrots to the broth and simmer them, covered, for 5 minutes. Stir in the spinach and the tofu and simmer the soup for 1 minute. In a small bowl stir together well 1/2 cup of the soup broth and the miso and pour the mixture back into the pan. Divide the noodles among 6 large bowls, ladle the soup over them, and sprinkle each serving with some of the scallions.