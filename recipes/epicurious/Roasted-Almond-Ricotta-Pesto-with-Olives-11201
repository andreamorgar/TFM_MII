With food processor running, drop in garlic and finely chop. Stop motor and add almonds, basil, lemon juice, parmesan, 1/4 teaspoon salt, and 1/2 teaspoon pepper, then process until finely chopped. With motor running, add oil, blending until incorporated. Transfer to a large bowl. Stir in ricotta and olives and season with salt. Toss hot spaghetti with pesto. Thin with some of cooking water.