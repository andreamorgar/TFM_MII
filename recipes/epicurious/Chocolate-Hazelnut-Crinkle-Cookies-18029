Put oven rack in middle position and preheat oven to 350°F. Toast hazelnuts in a shallow baking pan in oven until skins split and nuts are pale golden, about 10 minutes. Remove from oven (turn oven off), then wrap hazelnuts in a kitchen towel and rub to remove any loose skins. Cool nuts completely. Pulse nuts with granulated sugar in a food processor until finely chopped. Melt chocolate in a metal bowl set over a saucepan of barely simmering water or in top of a double boiler, stirring until smooth. Remove bowl from heat and set aside. Whisk together flour, cocoa powder, baking powder, and salt in a bowl. Beat together butter and brown sugar in another bowl with an electric mixer at medium-high speed until creamy, about 3 minutes. Add eggs 1 at a time, beating well after each addition, then beat in melted chocolate until combined. Add milk and vanilla, beating to incorporate. Reduce speed to low and add flour mixture, mixing until just combined. Stir in nut mixture. Cover bowl with plastic wrap and chill dough until firm, 2 to 3 hours. Put oven racks in upper and lower thirds of oven and preheat oven to 350°F. Line 2 large baking sheets with parchment paper. Sift confectioners sugar into a bowl. Halve dough and chill 1 half, wrapped in plastic wrap. Roll remaining half into 1-inch balls, placing them on a sheet of wax paper as rolled. Roll balls, 3 or 4 at a time, in confectioners sugar to coat generously and arrange 2 inches apart on lined baking sheets. Bake, switching position of sheets halfway through baking, until cookies are puffed and cracked and edges feel dry (but centers are still slightly soft), 12 to 18 minutes total. Transfer cookies (still on parchment) to racks to cool completely. While first batch is baking, roll remaining dough into balls. Line cooled cookie sheets with fresh parchment, then coat balls with confectioners sugar and bake in same manner.