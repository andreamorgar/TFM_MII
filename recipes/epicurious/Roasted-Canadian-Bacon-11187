Put oven rack in middle position and preheat oven to 400Â°F. Boil cider in a 1-quart saucepan until reduced to about 1/2 cup, 10 to 12 minutes. Heat butter in a 1 1/2- to 2-quart flameproof casserole over moderate heat until foam subsides. Add onion, apples, thyme, salt, and pepper and cook, stirring, until onion is softened, about 5 minutes. Nestle bacon in apple mixture. Pour cider over bacon and roast, uncovered, until heated through and beginning to brown, about 20 minutes.