In a heavy kettle cook the onions and the garlic in the oil over moderate heat, stirring occasionally, until the mixture is browned. Stir in the beer and the broth, simmer the mixture, covered, for 45 minutes, and stir in the sugar and salt and pepper to taste. While the soup is simmering, in a heavy skillet melt the butter over moderate heat, add the bread cubes, and cook them, stirring, until they are golden. Divide the soup among 6 bowls and top it with the Parmesan and the croutons.