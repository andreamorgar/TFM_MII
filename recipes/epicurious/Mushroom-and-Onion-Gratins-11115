In a skillet cook the mushrooms in 2 1/2 tablespoons of the butter over moderately low heat, stirring, until they are softened and most of the liquid they give off has evaporated. Stir in the flour and cook the mixture, stirring, for 3 minutes. In each of six 1 1/2-cup gratin dishes layer the onions, the remaining butter, cut into bits, the mushroom mixture, and salt and pepper to taste, beginning and ending with a layer of onions, and pour 1 tablespoon of the cream over the top of each gratin. In a small bowl combine well the Gruyère and the bread crumbs and sprinkle the mixture over the cream. (Alternatively, the gratin, layered in the same manner, may be prepared in one 2-quart gratin dish.) Bake the gratins in the middle of a preheated 325°F. oven for 50 minutes to 1 hour, or until the onions are tender and the tops are golden. The gratins may be prepared 3 hours in advance, kept covered and chilled, and reheated in a preheated 400°F. oven for 5 minutes, or until they are heated through.