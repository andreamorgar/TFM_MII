In a heavy saucepan combine the apples, the granulated sugar, the lemon juice, and the water and simmer the mixture, covered, stirring occasionally, for 5 to 10 minutes, or until the apples are tender. Add the dates, simmer the mixture, uncovered, stirring it and mashing the dates, for 3 to 5 minutes, or until the dates are soft and the mixture is almost smooth, and let the purée cool. In a bowl combine the butter, the brown sugar, the salt, the flour, the pecans, and the cinnamon and blend the mixture well. Press half the flour mixture evenly into a buttered 13- by 9-inch baking pan, spread the purée over it, and crumble the remaining flour mixture over the purée, pressing it lightly to form an even layer. Bake the mixture in the middle of a preheated 375°F oven for 35 to 40 minutes, or until it is golden, let it cool completely in the pan on a rack, and cut it into 36 bars.