In a bowl let the cherries soak in the vinegars for 30 minutes. While the cherries are soaking, in a heavy skillet cook the shallot and the onion in the butter, covered, over moderately low heat, stirring occasionally, for 10 minutes, or until the shallot is soft. Sprinkle mixture with the sugar and cook the mixture, covered, stirring occasionally, for 10 minutes. Add the cherries with the soaking liquid, simmer the mixture, uncovered, for 10 to 15 minutes, or until almost all the liquid is evaporated, and season the confit with salt and pepper. The confit may be made 1 day in advance, kept covered and chilled, and reheated.