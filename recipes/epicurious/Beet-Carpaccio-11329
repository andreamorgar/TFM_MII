Preheat oven to 400°F. Tightly wrap beets in double layers of foil to make 3 packages (2 large beets or 4 medium per package) and roast on a baking sheet in middle of oven until tender, 1 1/4 to 1 1/2 hours. Cool to warm in foil packages (the steam makes beets easier to peel), about 30 minutes. While beets are roasting, cook onions in butter in a 12-inch heavy skillet, covered, over moderately low heat, stirring occasionally, until soft, about 20 minutes. Add salt, sugar, and vinegar and cook, uncovered, stirring occasionally, until onions are very tender and caramelized to deep brown, about 20 minutes more. Add wine and boil, stirring occasionally, until liquid is reduced to about 2 tablespoons, 3 to 5 minutes. Transfer mixture to a food processor and pulse to a coarse purée. Return to skillet and season with salt and pepper, then reheat onion marmalade, covered, over low heat. While marmalade is reheating, peel beets, discarding stems and root ends, and cut crosswise into 1/8-inch-thick slices with slicer. Divide warm marmalade among 6 dinner plates and spread evenly in a very thin layer to cover bottom of each plate using offset spatula. Arrange beet slices in 1 layer over onion, overlapping them only enough to cover onions. Drizzle 2 teaspoons oil over each serving and season with pepper. Shave 4 to 6 curls of Parmigiano-Reggiano with a vegetable peeler over beets on each plate. Serve immediately. Available at many cookware stores and Uwajimaya (800-899-1928).