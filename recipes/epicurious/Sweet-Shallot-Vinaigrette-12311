In a medium saucepan over medium heat, cook the shallots and sugar, stirring constantly, until the shallots start to soften and brown, about 3 minutes. Remove from heat and combine the caramelized shallots, vinegar, and oil in a blender and mix until well blended. Season with salt and pepper. Chill for at least an hour before using. Use immediately or keep for up to 2 weeks.