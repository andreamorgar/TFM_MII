For the confit guinea fowl legs, rub salt all over the legs, cover and refrigerate for 2 hours. Heat the fat in a saucepan to 74C/165F.Rinse the salt from the legs with running cold water and dry them with a cloth. Submerge the legs in the fat and add the thyme. Cook for 2½ hours, then leave to cool in the fat. Take the legs out and wipe the fat from surface of the meat. Cut into 1cm/½in dice and set aside.For the roast guinea fowl crown, heat the stock in a large pan to 78C/172F. Poach the crown in the stock for 5 minutes, then remove it, dry the skin with a cloth, then season all over with salt. Preheat the oven to 170C/150C Fan/Gas 3.Heat an ovenproof pan and add the vegetable oil. Brown the crown in the pan a little, then add a knob of butter and continue to brown until the crown is golden all over. Add the thyme and garlic, then transfer to the oven and roast for 5 minutes.Remove and place the crown on a rack to rest for 5 minutes before carving off the breasts.Meanwhile, for the onion shells, put the wine, vinegar and sugar in a saucepan and bring to the boil. Cook until the sugar is dissolved, then add the onions. Simmer for 30 minutes. Leave to cool in the liquor, then break the onions down into individual shells.For the sauce, heat the butter in a clean pan and gently fry the shallots, garlic and bacon for 3 minutes, or until translucent. Turn up the heat and de-glaze the pan with the wine. Add the thyme, then cook until the volume is reduced by two-thirds. Add the stock and cook again to reduce by two-thirds. Pass the sauce through a sieve, then whisk in the crème fraiche and season to taste with salt.Blanch the broad beans for 2 minutes in rapidly boiling, salted water, then refresh in iced water. Once cold, peel off the outer skins and add the beans to the sauce.Heat the remaining knob of butter in a clean pan until foaming. Add the lardons and cook until caramelised.Just before serving heat a pan and add the diced confit guinea fowl leg. Cook to caramelise then add to the sauce. Heat the sauce through, then add the  lettuce to the sauce to wilt it. Add the lardons.Serve slices of breast meat with the sauce spooned over and garnish with pea shoots and flowers.