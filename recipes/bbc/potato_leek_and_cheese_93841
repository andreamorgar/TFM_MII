For the filling, melt the butter in a wide lidded saucepan over a medium–high heat. Add the leeks and onion and fry for a few minutes. Cover, lower the heat and cook for 15 minutes, or until tender.Meanwhile, bring a pot of salted water to the boil. Boil the potatoes for 8–10 minutes, or until just tender, then drain.Gently warm the milk.Remove the lid from the leeks, turn up the heat and cook off any excess liquid. Sprinkle in the flour, stir and cook for 1 minute. Gradually pour in the milk, stirring all the time, and bring to the boil until thickened. Add the mustard, thyme, cheeses and potato. Season with salt and pepper.Pour the mixture into a 25cm/10in pie dish and sit a pie funnel in the middle. Set aside to cool.To make the pastry, put the flour into a bowl. Coarsely grate the butter and vegetable fat into the flour. Add 150ml/5fl oz cold water and stir to make a firm dough. Sprinkle the work surface with flour. Knead the dough, then roll it out into a rectangle. Fold the bottom third of the rectangle up into the centre, and fold the top third down, like a letter. Turn 90 degrees, roll out to a rectangle and fold in same way again. Turn 90 degrees and fold again, then repeat. Chill in the fridge for 30 minutes.Preheat the oven to 220C/200C Fan/Gas 7. Roll out the pastry and cut off 1cm/½in-wide strip long enough to fit around the circumference of the pie dish (cut two or more strips if needed for the length). Roll the remaining pastry into a circle about 3cm/1¼in bigger than the pie dish. Wet the lip of the pie dish, lay the thin strip of pastry on top and press down. Wet the top of the pastry lip and lay the circle on top, press down and crimp the edge. Make a steam hole to expose the funnel.Roll the pastry trimmings and cut leaf shapes for decoration. Brush the pastry lid with egg wash, arrange the leaves on top and brush those with egg wash too.Put the pie dish on a baking tray and bake for 40–45 minutes, or until golden-brown and crisp and the filling is piping hot. Serve with green vegetables.