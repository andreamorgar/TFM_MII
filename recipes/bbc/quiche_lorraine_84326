For the shortcrust pastry, put the flour, butter and a pinch of salt in a food processor and process briefly.Add half of the beaten egg and continue to process. (You might add a little more egg, but not too much as the mixture should be just moist enough to come together.) If making the pastry by hand, rub the butter into the flour until it resembles coarse breadcrumbs then, using your hands, add just enough egg to bring it together.With your hands, flatten out the ball of dough until it is about 2cm/¾in thick, then wrap it in cling film or place it in a plastic bag and leave in the fridge for at least 30 minutes or, if you are pushed for time, in the freezer for 10–15 minutes, before using.Preheat the oven to 180C/160C Fan/Gas 4.Line a 19cm/7½in high-sided tart tin with the shortcrust pastry and cover the base with baking parchment. Fill the tin with baking beans and bake blind for 10-15 minutes. Remove the beans and parchment for the last five minutes of baking for a golden-brown crust.For the filling, heat the oil in a frying pan and cook the bacon for 5-6 minutes, or until crisp. Remove and drain on kitchen paper. Fry the onions gently in the same oil for a further ten minutes, or until softened.Meanwhile, whisk the two whole eggs and two egg yolks in a medium-sized bowl. Add the cream, herbs, cheeses and bacon and onions. Mix well and season with salt and freshly ground black pepper.Pour the filling into the pastry base and return to the oven to bake for 30–40 minutes, or until the centre has set. Serve warm with a green salad and relish.