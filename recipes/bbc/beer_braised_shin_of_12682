Preheat the oven to 160C/140C Fan/Gas 3.Heat 2 tablespoons of the oil in a large heavy-bottomed frying pan over a medium heat. Add the onions, carrots, celery and garlic and fry until they start to colour. Transfer to a large lidded casserole dish.Put the flour on a plate and season with salt and pepper. Coat the beef in the seasoned flour and shake off any excess flour. Turn the heat up to high, then add the remaining oil to the frying pan. Fry the beef, in batches, for 1 minute on each side until browned all over. Add the beef to the casserole dish.Add a splash of ale to the frying pan and scrape off any cooked on pieces of food, then pour it all into the casserole dish. Pour in the remaining ale, the beef stock and rosemary. Put in the oven and cook for 3-4 hours, or until the meat falls easily from the bone.Meanwhile, bring a pot of lightly salted water to the boil and add the potatoes. Cook for 15-20 minutes until tender. Drain and return to the pot. Mash until smooth. Mix in the butter and milk. Season to taste with salt and pepper.Serve the braised shin with the mash.