For the mackerel, cut the fillets in half and place in a large bowl. Add the zest of half the orange, the orange juice, onion slices, sherry vinegar, sea salt, white wine, a few peppercorns and the bay leaves. Leave to marinade for an hour, then drain off any liquid and set aside until ready to cook.For the Gnocchi, either boil or bake the sweet potatoes and potatoes in their skins until tender (boiling will be faster). If baking, heat the oven to 180C/350F/Gas 4 and bear in mind that the sweet potatoes will take less time to cook than the other potatoes.Once the potatoes and sweet potatoes are cooked and cool enough to handle, remove the skins and push the flesh through a potato ricer (or use a potato masher).Season to taste with salt and freshly ground black pepper. Then add the egg and flour a little at a time to form a smooth, slightly sticky dough.Tip out the dough onto a clean, floured work surface. Divide the mixture into eight and roll into sausage shapes about 1cm/½in thick. Cut into 2cm/ ¾in long sections and roll in the flour. Carefully but quite firmly roll each piece down the prongs of a fork (this will make the traditional indentations). Compress the gnocchi lightly with your thumb and roll on a floured tray (to round off the ends). Set aside for a few hours to set (or you can freeze them until you need them).For the salad, combine all the ingredients together in a bowl. Toss together and set aside until ready to use.When you are ready to cook the gnocchi, fill a large pan with the stock and bring to the boil. Add the gnocchi.While the gnocchi is cooking, make the sauce. Gently melt the butter in a large frying pan until the butter becomes a light-brown colour. Add the samphire (if using), a ladel of the gnocchi cooking liquor and some extra virgin olive oil. Remove from the heat and add the sage leaves.When the gnocchi float to the surface, they are ready. Drain and toss them in the butter. Season to taste with salt and freshly ground black pepper. Sprinkle over the parmesan.For the mackerel, heat a large non-stick frying pan and fry the prosciutto until crisp. Remove from the pan and set aside.Fry the mackerel fillets in the same pan, skin side down first. After 2-3 minutes turn over and cook the other side for a few minutes.Serve the gnocchi with the tomato salad and fried mackerel topped with the crispy ham. Drizzle over the juice from the tomato salad.